(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[547],{18407:function(Ce,M,a){"use strict";a.r(M),a.d(M,{default:function(){return $e}});var k=a(71194),T=a(50146),de=a(57663),C=a(71577),U=a(62350),J=a(75443),R=a(12968),X=a(38629),S=a(57337),b=a(8870),V=a(34792),w=a(48086),m=a(3182),q=a(94043),r=a.n(q),Z=a(51042),d=a(67294),y=a(4743),D=a(80569),l=a(77883),O=a(34713),Qe=a(48736),je=a(27049),He=a(43185),ce=a(65488),Je=a(77576),N=a(85979),Xe=a(13062),_=a(71230),qe=a(89032),$=a(15746),_e=a(9715),i=a(92080),ea=a(43358),Y=a(34041),aa=a(47673),L=a(4107),xe=a(36571),be=a(42443),Se=a(8998),we=a(94135),e=a(85893),pe=void 0,me=L.Z.TextArea,ee=Y.Z.Option,ye=function(u){var h=i.Z.useForm(),g=(0,S.Z)(h,1),n=g[0],s=u.values,W=s.url,z=s.status,Q=s.icon,P=s.speakCircleToBackEnd,ue=s.lowBackWhenSpeak,H=s.backCircleToSpeakEnd,se=(0,d.useState)(),G=(0,S.Z)(se,2),le=G[0],ie=G[1],I=(0,d.useState)(),j=(0,S.Z)(I,2),E=j[0],A=j[1],oe=(0,d.useState)(),c=(0,S.Z)(oe,2),Le=c[0],We=c[1],he=function(){var o=(0,m.Z)(r().mark(function t(x){var p,F;return r().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,Se.QO)({name:x});case 2:p=v.sent,F=p.data.map(function(B){return(0,e.jsx)(ee,{children:B.name},B.name)}),ie(F);case 5:case"end":return v.stop()}},t)}));return function(x){return o.apply(this,arguments)}}(),Ge=function(){var o=(0,m.Z)(r().mark(function t(){return r().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:he(void 0);case 1:case"end":return p.stop()}},t)}));return function(){return o.apply(this,arguments)}}(),fe=function(){var o=(0,m.Z)(r().mark(function t(x){var p,F;return r().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,we.C7)({name:x});case 2:p=v.sent,F=p.data.map(function(B){return(0,e.jsx)(ee,{children:B.name},B.name)}),A(F);case 5:case"end":return v.stop()}},t)}));return function(x){return o.apply(this,arguments)}}(),Me=function(){var o=(0,m.Z)(r().mark(function t(){return r().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:fe(void 0);case 1:case"end":return p.stop()}},t)}));return function(){return o.apply(this,arguments)}}(),ve=function(){var o=(0,m.Z)(r().mark(function t(x){var p,F;return r().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,be.l4)({name:x,type:"demo"});case 2:p=v.sent,F=p.data.map(function(B){return(0,e.jsx)(ee,{children:B.name},B.name)}),We(F);case 5:case"end":return v.stop()}},t)}));return function(x){return o.apply(this,arguments)}}(),Re=function(){var o=(0,m.Z)(r().mark(function t(){return r().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:ve(void 0);case 1:case"end":return p.stop()}},t)}));return function(){return o.apply(this,arguments)}}(),Ve=function(){return[{uid:"1",name:"\u793A\u4F8B\u97F3\u9891",status:"done",url:W}]},Ne=function(){return[{uid:"1",name:"\u56FE\u6807",status:"done",url:Q}]};u.isUpdate?n.setFieldsValue((0,b.Z)({},u.values)):n.setFieldsValue({url:void 0,name:void 0,value:void 0,desc:void 0,tag:void 0,tagColor:void 0,id:void 0,status:!1,speakCircleToBackEnd:!1,lowBackWhenSpeak:!1,backCircleToSpeakEnd:!1,icon:void 0,speed:50,volume:50,pitch:50,backVolume:50,speakInterval:void 0,delaySpeak:void 0,extendBack:void 0});var Ze=function(){return!0},ge=function(){var o=(0,m.Z)(r().mark(function t(){var x;return r().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,(0,xe.ZL)();case 2:return x=F.sent,F.abrupt("return",{token:x.data.token});case 4:case"end":return F.stop()}},t)}));return function(){return o.apply(this,arguments)}}(),Ye=function(t){t.file.status==="done"&&n.setFieldsValue({url:"https://labaimg.wuliangit.com/"+t.file.response.key})},Ke=function(t){t.file.status==="done"&&n.setFieldsValue({icon:"https://labaimg.wuliangit.com/"+t.file.response.key})},ze=function(){var t=n.getFieldValue("url");t==null&&n.setFieldsValue({url:W}),console.log(n.getFieldsValue()),u.onSubmit(n.getFieldsValue())};return(0,e.jsx)(T.Z,{title:"\u4FEE\u6539\u793A\u4F8B\u8BED\u97F3",closable:!1,getContainer:!1,visible:u.updateModalVisible,onCancel:function(){return u.onCancel()},okText:"\u63D0\u4EA4",onOk:ze,width:1200,children:(0,e.jsx)(i.Z,{name:"basic",form:n,labelCol:{span:7},wrapperCol:{span:14},initialValues:(0,b.Z)({},u.values),onFinish:u.onSubmit,onFinishFailed:function(){return u.onCancel()},autoComplete:"off",children:(0,e.jsxs)(_.Z,{children:[(0,e.jsxs)($.Z,{span:12,children:[(0,e.jsx)(i.Z.Item,{label:"id",name:"id",hidden:!0,rules:[{required:!0,message:"Please input your username!"}],children:(0,e.jsx)(L.Z,{})}),(0,e.jsx)(i.Z.Item,{label:"\u540D\u79F0",name:"name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0"}],children:(0,e.jsx)(L.Z,{})}),(0,e.jsxs)(_.Z,{children:[(0,e.jsx)($.Z,{span:9,offset:4,children:(0,e.jsx)(i.Z.Item,{label:"\u6807\u7B7E",name:"tag",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u503C"}],children:(0,e.jsx)(L.Z,{})})}),(0,e.jsx)($.Z,{span:11,children:(0,e.jsx)(i.Z.Item,{label:"\u6807\u7B7E\u989C\u8272",name:"tagColor",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u503C"}],children:(0,e.jsx)(L.Z,{})})})]}),(0,e.jsx)(i.Z.Item,{label:"\u63CF\u8FF0",name:"desc",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u63CF\u8FF0"}],children:(0,e.jsx)(me,{rows:4})}),(0,e.jsx)(i.Z.Item,{label:"\u8BED\u97F3\u6587\u672C",name:"value",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u503C"}],children:(0,e.jsx)(me,{rows:4})}),(0,e.jsx)(i.Z.Item,{label:"\u542F\u7528\u72B6\u6001",valuePropName:"checked",name:"status",children:(0,e.jsx)(N.Z,{defaultChecked:z})}),(0,e.jsx)(i.Z.Item,{label:"\u4E0A\u4F20\u97F3\u9891",valuePropName:"url",name:"url",children:(0,e.jsx)(ce.Z,{name:"file",maxCount:1,defaultFileList:Ve(),action:"http://up-z2.qiniup.com",data:ge,beforeUpload:Ze.bind(pe),onChange:Ye,children:(0,e.jsx)(C.Z,{children:"\u4E0A\u4F20"})})}),(0,e.jsx)(i.Z.Item,{label:"\u4E0A\u4F20\u56FE\u6807",valuePropName:"icon",name:"icon",children:(0,e.jsx)(ce.Z,{name:"file",listType:"picture",maxCount:1,defaultFileList:Ne(),action:"http://up-z2.qiniup.com",data:ge,beforeUpload:Ze.bind(pe),onChange:Ke,children:(0,e.jsx)(C.Z,{children:"\u4E0A\u4F20"})})})]}),(0,e.jsxs)($.Z,{span:12,children:[(0,e.jsx)(i.Z.Item,{label:"\u53D1\u97F3\u4EBA",name:"anchorName",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0"}],children:(0,e.jsx)(Y.Z,{showSearch:!0,defaultActiveFirstOption:!1,showArrow:!0,filterOption:!1,onSearch:he,onFocus:Ge,notFoundContent:null,getPopupContainer:function(t){return t.parentElement},children:le})}),(0,e.jsx)(i.Z.Item,{label:"\u80CC\u666F\u97F3",name:"backMusicName",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u80CC\u666F\u97F3"}],children:(0,e.jsx)(Y.Z,{showSearch:!0,defaultActiveFirstOption:!1,showArrow:!0,filterOption:!1,onSearch:fe,onFocus:Me,notFoundContent:null,getPopupContainer:function(t){return t.parentElement},children:E})}),(0,e.jsx)(i.Z.Item,{label:"\u5206\u7EC4",name:"group",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0"}],children:(0,e.jsx)(Y.Z,{showSearch:!0,defaultActiveFirstOption:!1,showArrow:!0,filterOption:!1,onSearch:ve,onFocus:Re,notFoundContent:null,getPopupContainer:function(t){return t.parentElement},children:Le})}),(0,e.jsx)(je.Z,{plain:!0,children:"\u5408\u6210\u914D\u7F6E"}),(0,e.jsxs)(_.Z,{children:[(0,e.jsxs)($.Z,{span:12,children:[(0,e.jsx)(i.Z.Item,{label:"\u8BED\u901F",labelCol:{span:10},wrapperCol:{span:10},name:"speed",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u8BED\u901F"}],children:(0,e.jsx)(O.Z,{min:1,max:100})}),(0,e.jsx)(i.Z.Item,{label:"\u97F3\u91CF",labelCol:{span:10},wrapperCol:{span:10},name:"volume",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u97F3\u91CF"}],children:(0,e.jsx)(O.Z,{min:1,max:100})}),(0,e.jsx)(i.Z.Item,{label:"\u6587\u672C\u5FAA\u73AF\u95F4\u9694",labelCol:{span:10},wrapperCol:{span:10},name:"speakInterval",rules:[{required:!1,message:"\u8BF7\u8F93\u5165\u6587\u672C\u5FAA\u73AF\u95F4\u9694\u503C"}],children:(0,e.jsx)(O.Z,{min:1,max:100})}),(0,e.jsx)(i.Z.Item,{label:"\u80CC\u666F\u97F3\u7EED\u64AD",labelCol:{span:10},wrapperCol:{span:10},name:"extendBack",rules:[{required:!1,message:"\u8BF7\u8F93\u5165\u80CC\u666F\u97F3\u7EED\u64AD\u503C"}],children:(0,e.jsx)(O.Z,{min:1,max:20})})]}),(0,e.jsxs)($.Z,{span:12,children:[(0,e.jsx)(i.Z.Item,{label:"\u80CC\u666F\u97F3\u91CF",labelCol:{span:10},wrapperCol:{span:10},name:"backVolume",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u80CC\u666F\u97F3\u91CF"}],children:(0,e.jsx)(O.Z,{min:1,max:100})}),(0,e.jsx)(i.Z.Item,{label:"\u97F3\u8C03",labelCol:{span:10},wrapperCol:{span:10},name:"pitch",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u97F3\u8C03"}],children:(0,e.jsx)(O.Z,{min:1,max:100})}),(0,e.jsx)(i.Z.Item,{label:"\u6587\u672C\u5EF6\u8FDF\u51FA\u573A",labelCol:{span:10},wrapperCol:{span:10},name:"delaySpeak",rules:[{required:!1,message:"\u8BF7\u8F93\u5165\u6587\u672C\u5EF6\u8FDF\u51FA\u573A\u503C"}],children:(0,e.jsx)(O.Z,{min:1,max:20})})]})]}),(0,e.jsx)(i.Z.Item,{label:"\u6587\u672C\u5FAA\u73AF\u81F3\u80CC\u666F\u97F3\u7ED3\u675F",valuePropName:"checked",name:"speakCircleToBackEnd",children:(0,e.jsx)(N.Z,{defaultChecked:P})}),(0,e.jsx)(i.Z.Item,{label:"\u64AD\u62A5\u65F6\u964D\u4F4E\u80CC\u666F\u97F3\u91CF",valuePropName:"checked",name:"lowBackWhenSpeak",children:(0,e.jsx)(N.Z,{defaultChecked:ue})}),(0,e.jsx)(i.Z.Item,{label:"\u80CC\u666F\u97F3\u5FAA\u73AF\u81F3\u6587\u672C\u7ED3\u675F",valuePropName:"checked",name:"backCircleToSpeakEnd",children:(0,e.jsx)(N.Z,{defaultChecked:H})})]})]})})})},Ee=ye,Ae=a(81540),Ie=a.n(Ae),K=a(2489);function ke(f,u){return ae.apply(this,arguments)}function ae(){return ae=(0,m.Z)(r().mark(function f(u,h){return r().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,K.WY)("https://laba.wuliangit.com/admin/source/list",(0,b.Z)({method:"GET",params:(0,b.Z)({},u)},h||{})));case 1:case"end":return n.stop()}},f)})),ae.apply(this,arguments)}function Te(f,u){return ne.apply(this,arguments)}function ne(){return ne=(0,m.Z)(r().mark(function f(u,h){return r().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,K.WY)("https://laba.wuliangit.com/admin/source/update",(0,b.Z)({method:"POST",data:u},h||{})));case 1:case"end":return n.stop()}},f)})),ne.apply(this,arguments)}function Be(f,u){return re.apply(this,arguments)}function re(){return re=(0,m.Z)(r().mark(function f(u,h){return r().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,K.WY)("https://laba.wuliangit.com/admin/source/add",(0,b.Z)({method:"POST",data:u},h||{})));case 1:case"end":return n.stop()}},f)})),re.apply(this,arguments)}function Oe(f,u){return te.apply(this,arguments)}function te(){return te=(0,m.Z)(r().mark(function f(u,h){return r().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("removeBanner----",u),n.abrupt("return",(0,K.WY)("https://laba.wuliangit.com/admin/source/delete",(0,b.Z)({method:"GET",params:(0,b.Z)({},u)},h||{})));case 2:case"end":return n.stop()}},f)})),te.apply(this,arguments)}var Pe=function(){var f=(0,m.Z)(r().mark(function u(h){var g;return r().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return g=w.default.loading("\u63D0\u4EA4\u4E2D"),s.prev=1,console.log("handleAdd-----",h),s.next=5,Be((0,b.Z)({},h));case 5:return g(),w.default.success("\u63D0\u4EA4\u6210\u529F"),s.abrupt("return",!0);case 10:return s.prev=10,s.t0=s.catch(1),g(),w.default.error("\u63D0\u4EA4\u5931\u8D25"),s.abrupt("return",!1);case 15:case"end":return s.stop()}},u,null,[[1,10]])}));return function(h){return f.apply(this,arguments)}}(),Ue=function(){var f=(0,m.Z)(r().mark(function u(h){var g;return r().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return g=w.default.loading("\u63D0\u4EA4\u4E2D"),s.prev=1,s.next=4,Te((0,b.Z)({},h));case 4:return g(),w.default.success("\u63D0\u4EA4\u6210\u529F"),s.abrupt("return",!0);case 9:return s.prev=9,s.t0=s.catch(1),g(),w.default.error("\u63D0\u4EA4\u5931\u8D25"),s.abrupt("return",!1);case 14:case"end":return s.stop()}},u,null,[[1,9]])}));return function(h){return f.apply(this,arguments)}}(),De=function(){var u=(0,d.useState)(!1),h=(0,S.Z)(u,2),g=h[0],n=h[1],s=(0,d.useState)(!1),W=(0,S.Z)(s,2),z=W[0],Q=W[1],P=(0,d.useRef)(),ue=(0,d.useState)(),H=(0,S.Z)(ue,2),se=H[0],G=H[1],le=function(){var I=(0,m.Z)(r().mark(function j(E){var A;return r().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return A=w.default.loading("\u6B63\u5728\u5220\u9664"),c.prev=1,c.next=4,Oe(E);case 4:return A(),w.default.success("\u5220\u9664\u6210\u529F"),P.current&&P.current.reload(),c.abrupt("return",!0);case 10:return c.prev=10,c.t0=c.catch(1),A(),w.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),c.abrupt("return",!1);case 15:case"end":return c.stop()}},j,null,[[1,10]])}));return function(E){return I.apply(this,arguments)}}(),ie=[{title:"\u6807\u9898",dataIndex:"name",width:130},{title:"\u56FE\u6807",dataIndex:"icon",hideInSearch:!0,width:60,renderText:function(j){return(0,e.jsx)(X.Z,{height:40,src:j})}},{title:"\u97F3\u9891\u6587\u4EF6",dataIndex:"url",hideInSearch:!0,valueType:"textarea",width:330,renderText:function(j){return(0,e.jsx)(Ie(),{src:j,controls:!0})}},{title:"\u5206\u7EC4",dataIndex:"group",hideInSearch:!0,ellipsis:!0,width:90},{title:"\u6807\u7B7E",dataIndex:"tag",hideInSearch:!0,ellipsis:!0,width:100},{title:"\u53D1\u97F3\u4EBA",dataIndex:"anchorName",hideInSearch:!0,ellipsis:!0,width:70},{title:"\u80CC\u666F\u97F3",dataIndex:"backMusicName",hideInSearch:!0,ellipsis:!0,width:120},{title:"\u72B6\u6001",dataIndex:"status",hideInForm:!0,valueEnum:{true:{text:"\u542F\u7528",status:"Processing"},false:{text:"\u5173\u95ED",status:"Default"}}},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(j,E){return[(0,e.jsx)("a",{onClick:function(){console.log("-------onClick",E),n(!0),Q(!0),G(E)},children:"\u4FEE\u6539"},"config"),(0,e.jsx)(J.Z,{title:"\u662F\u5426\u786E\u5B9A\u5220\u9664?",onConfirm:function(){return le({id:E.id})},okText:"\u662F",cancelText:"\u5426",children:(0,e.jsx)("a",{children:"\u5220\u9664"},"delete")})]}}];return(0,e.jsxs)(y.ZP,{children:[(0,e.jsx)(D.ZP,{headerTitle:"\u67E5\u8BE2\u8868\u683C",actionRef:P,rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[(0,e.jsxs)(C.Z,{type:"primary",onClick:function(){n(!0),Q(!1),G(void 0)},children:[(0,e.jsx)(Z.Z,{})," \u65B0\u5EFA"]},"primary")]},request:ke,columns:ie}),(0,e.jsx)(Ee,{onSubmit:function(){var I=(0,m.Z)(r().mark(function j(E){var A;return r().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!z){c.next=6;break}return c.next=3,Ue(E);case 3:A=c.sent,c.next=9;break;case 6:return c.next=8,Pe(E);case 8:A=c.sent;case 9:A&&(n(!1),P.current&&P.current.reload());case 10:case"end":return c.stop()}},j)}));return function(j){return I.apply(this,arguments)}}(),onCancel:function(){T.Z.destroyAll(),n(!1)},updateModalVisible:g,values:se||{},isUpdate:z})]})},$e=De},8998:function(Ce,M,a){"use strict";a.d(M,{vG:function(){return J},QO:function(){return X},DS:function(){return b},ep:function(){return w},WL:function(){return q}});var k=a(8870),T=a(3182),de=a(94043),C=a.n(de),U=a(2489);function J(Z,d){return R.apply(this,arguments)}function R(){return R=(0,T.Z)(C().mark(function Z(d,y){return C().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,U.WY)("https://laba.wuliangit.com/admin/anchor/list",(0,k.Z)({method:"GET",params:(0,k.Z)({},d)},y||{})));case 1:case"end":return l.stop()}},Z)})),R.apply(this,arguments)}function X(Z,d){return S.apply(this,arguments)}function S(){return S=(0,T.Z)(C().mark(function Z(d,y){return C().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,U.WY)("https://laba.wuliangit.com/admin/anchor/list4Select",(0,k.Z)({method:"GET",params:(0,k.Z)({},d)},y||{})));case 1:case"end":return l.stop()}},Z)})),S.apply(this,arguments)}function b(Z,d){return V.apply(this,arguments)}function V(){return V=(0,T.Z)(C().mark(function Z(d,y){return C().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,U.WY)("https://laba.wuliangit.com/admin/anchor/update",(0,k.Z)({method:"POST",data:d},y||{})));case 1:case"end":return l.stop()}},Z)})),V.apply(this,arguments)}function w(Z,d){return m.apply(this,arguments)}function m(){return m=(0,T.Z)(C().mark(function Z(d,y){return C().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,U.WY)("https://laba.wuliangit.com/admin/anchor/add",(0,k.Z)({method:"POST",data:d},y||{})));case 1:case"end":return l.stop()}},Z)})),m.apply(this,arguments)}function q(Z,d){return r.apply(this,arguments)}function r(){return r=(0,T.Z)(C().mark(function Z(d,y){return C().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return console.log("removeBanner----",d),l.abrupt("return",(0,U.WY)("https://laba.wuliangit.com/admin/anchor/delete",(0,k.Z)({method:"GET",params:(0,k.Z)({},d)},y||{})));case 2:case"end":return l.stop()}},Z)})),r.apply(this,arguments)}}}]);
