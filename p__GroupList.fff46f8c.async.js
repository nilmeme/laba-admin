(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[93],{67913:function(J,S,e){"use strict";e.r(S),e.d(S,{default:function(){return re}});var b=e(71194),C=e(50146),k=e(57663),f=e(71577),U=e(62350),$=e(75443),A=e(12968),V=e(38629),j=e(57337),T=e(8870),D=e(34792),p=e(48086),F=e(3182),W=e(94043),c=e.n(W),l=e(51042),u=e(67294),h=e(4743),x=e(80569),t=e(43185),Q=e(65488),se=e(77576),z=e(85979),le=e(43358),B=e(34041),ie=e(47673),H=e(4107),de=e(9715),I=e(92080),X=e(36571),n=e(85893),q=void 0,_=function(s){var v=I.Z.useForm(),g=(0,j.Z)(v,1),d=g[0],a=s.values,R=a.url,L=a.status,w=a.icon,E=a.isIntroduce,K=function(){return[{uid:"1",name:"\u56FE\u6807",status:"done",url:w}]};s.isUpdate?d.setFieldsValue((0,T.Z)({},s.values)):d.setFieldsValue({name:void 0,id:void 0,status:!1,type:void 0,icon:void 0,isIntroduce:void 0});var G=function(){return!0},N=function(){var y=(0,F.Z)(c().mark(function o(){var m;return c().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,X.ZL)();case 2:return m=i.sent,i.abrupt("return",{token:m.data.token});case 4:case"end":return i.stop()}},o)}));return function(){return y.apply(this,arguments)}}(),M=function(o){o.file.status==="done"&&d.setFieldsValue({icon:"https://labaimg.wuliangit.com/"+o.file.response.key})},Y=function(){var o=d.getFieldValue("url");o==null&&d.setFieldsValue({url:R}),d.validateFields().then(function(){s.onSubmit(d.getFieldsValue())}).catch(function(m){console.log("\u63D0\u4EA4\u7684\u6570\u636E\u65E0\u6548:",m)})};return(0,n.jsx)(C.Z,{title:s.isUpdate?"\u4FEE\u6539\u5206\u7EC4\u4FE1\u606F":"\u6DFB\u52A0\u5206\u7EC4",closable:!1,getContainer:!1,visible:s.updateModalVisible,onCancel:function(){return s.onCancel()},okText:"\u63D0\u4EA4",onOk:Y,children:(0,n.jsxs)(I.Z,{name:"basic",form:d,labelCol:{span:5},wrapperCol:{span:16},initialValues:(0,T.Z)({},s.values),onFinish:s.onSubmit,onFinishFailed:function(){return s.onCancel()},autoComplete:"off",children:[(0,n.jsx)(I.Z.Item,{label:"id",name:"id",hidden:!0,children:(0,n.jsx)(H.Z,{})}),(0,n.jsx)(I.Z.Item,{label:"\u540D\u79F0",name:"name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0"}],children:(0,n.jsx)(H.Z,{})}),(0,n.jsx)(I.Z.Item,{label:"\u7C7B\u578B",name:"type",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7C7B\u578B"}],children:(0,n.jsxs)(B.Z,{children:[(0,n.jsx)(B.Z.Option,{value:"anchor",children:"\u53D1\u97F3\u4EBA"}),(0,n.jsx)(B.Z.Option,{value:"demo",children:"\u793A\u4F8B\u8BED\u97F3"}),(0,n.jsx)(B.Z.Option,{value:"back",children:"\u80CC\u666F\u97F3"})]})}),(0,n.jsx)(I.Z.Item,{label:"\u542F\u7528\u72B6\u6001",valuePropName:"checked",name:"status",children:(0,n.jsx)(z.Z,{defaultChecked:L})}),(0,n.jsx)(I.Z.Item,{label:"\u63A8\u8350\u5230\u9996\u9875",valuePropName:"checked",name:"isIntroduce",children:(0,n.jsx)(z.Z,{defaultChecked:E})}),(0,n.jsx)(I.Z.Item,{label:"\u4E0A\u4F20\u56FE\u6807",valuePropName:"icon",name:"icon",children:(0,n.jsx)(Q.Z,{name:"file",listType:"picture",maxCount:1,defaultFileList:K(),action:"https://up-z2.qiniup.com",data:N,beforeUpload:G.bind(q),onChange:M,children:(0,n.jsx)(f.Z,{children:"\u4E0A\u4F20"})})})]})})},ee=_,O=e(42443),ae=function(){var P=(0,F.Z)(c().mark(function s(v){var g;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return g=p.default.loading("\u63D0\u4EA4\u4E2D"),a.prev=1,console.log("handleAdd-----",v),a.next=5,(0,O.Rp)((0,T.Z)({},v));case 5:return g(),p.default.success("\u63D0\u4EA4\u6210\u529F"),a.abrupt("return",!0);case 10:return a.prev=10,a.t0=a.catch(1),g(),p.default.error("\u63D0\u4EA4\u5931\u8D25"),a.abrupt("return",!1);case 15:case"end":return a.stop()}},s,null,[[1,10]])}));return function(v){return P.apply(this,arguments)}}(),ne=function(){var P=(0,F.Z)(c().mark(function s(v){var g;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return g=p.default.loading("\u63D0\u4EA4\u4E2D"),a.prev=1,a.next=4,(0,O.mD)((0,T.Z)({},v));case 4:return g(),p.default.success("\u63D0\u4EA4\u6210\u529F"),a.abrupt("return",!0);case 9:return a.prev=9,a.t0=a.catch(1),g(),p.default.error("\u63D0\u4EA4\u5931\u8D25"),a.abrupt("return",!1);case 14:case"end":return a.stop()}},s,null,[[1,9]])}));return function(v){return P.apply(this,arguments)}}(),te=function(){var s=(0,u.useState)(!1),v=(0,j.Z)(s,2),g=v[0],d=v[1],a=(0,u.useState)(!1),R=(0,j.Z)(a,2),L=R[0],w=R[1],E=(0,u.useRef)(),K=(0,u.useState)(),G=(0,j.Z)(K,2),N=G[0],M=G[1],Y=function(){var o=(0,F.Z)(c().mark(function m(Z){var i;return c().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i=p.default.loading("\u6B63\u5728\u5220\u9664"),r.prev=1,r.next=4,(0,O.BN)(Z);case 4:return i(),p.default.success("\u5220\u9664\u6210\u529F"),E.current&&E.current.reload(),r.abrupt("return",!0);case 10:return r.prev=10,r.t0=r.catch(1),i(),p.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),r.abrupt("return",!1);case 15:case"end":return r.stop()}},m,null,[[1,10]])}));return function(Z){return o.apply(this,arguments)}}(),y=[{title:"\u7EC4\u540D",dataIndex:"name",width:80},{title:"\u56FE\u6807",dataIndex:"icon",hideInSearch:!0,width:60,renderText:function(m){return(0,n.jsx)(V.Z,{height:40,src:m})}},{title:"\u7C7B\u578B",dataIndex:"type",width:120,hideInForm:!0,valueEnum:{back:{text:"\u80CC\u666F\u97F3"},anchor:{text:"\u53D1\u97F3\u4EBA"},demo:{text:"\u793A\u4F8B\u8BED\u97F3"}}},{title:"\u662F\u5426\u63A8\u8350\u5230\u4E3B\u9875",dataIndex:"isIntroduce",hideInForm:!0,valueEnum:{true:{text:"\u662F",status:"Processing"},false:{text:"\u5426",status:"Default"}}},{title:"\u72B6\u6001",dataIndex:"status",hideInForm:!0,valueEnum:{true:{text:"\u542F\u7528",status:"Processing"},false:{text:"\u5173\u95ED",status:"Default"}}},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(m,Z){return[(0,n.jsx)("a",{onClick:function(){console.log("-------onClick",Z),d(!0),w(!0),M(Z)},children:"\u4FEE\u6539"},"config"),(0,n.jsx)($.Z,{title:"\u662F\u5426\u786E\u5B9A\u5220\u9664?",onConfirm:function(){return Y({id:Z.id})},okText:"\u662F",cancelText:"\u5426",children:(0,n.jsx)("a",{children:"\u5220\u9664"},"delete")})]}}];return(0,n.jsxs)(h.ZP,{children:[(0,n.jsx)(x.ZP,{headerTitle:"\u67E5\u8BE2\u8868\u683C",actionRef:E,rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[(0,n.jsxs)(f.Z,{type:"primary",onClick:function(){d(!0),w(!1),M(void 0)},children:[(0,n.jsx)(l.Z,{})," \u65B0\u5EFA"]},"primary")]},request:O.cv,columns:y}),(0,n.jsx)(ee,{onSubmit:function(){var o=(0,F.Z)(c().mark(function m(Z){var i;return c().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!L){r.next=6;break}return r.next=3,ne(Z);case 3:i=r.sent,r.next=9;break;case 6:return r.next=8,ae(Z);case 8:i=r.sent;case 9:i&&(d(!1),E.current&&E.current.reload());case 10:case"end":return r.stop()}},m)}));return function(m){return o.apply(this,arguments)}}(),onCancel:function(){C.Z.destroyAll(),d(!1)},updateModalVisible:g,values:N||{},isUpdate:L})]})},re=te},42443:function(J,S,e){"use strict";e.d(S,{cv:function(){return $},l4:function(){return V},mD:function(){return T},Rp:function(){return p},BN:function(){return W}});var b=e(8870),C=e(3182),k=e(94043),f=e.n(k),U=e(2489);function $(l,u){return A.apply(this,arguments)}function A(){return A=(0,C.Z)(f().mark(function l(u,h){return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,U.WY)("https://laba.wuliangit.com/admin/group/list",(0,b.Z)({method:"GET",params:(0,b.Z)({},u)},h||{})));case 1:case"end":return t.stop()}},l)})),A.apply(this,arguments)}function V(l,u){return j.apply(this,arguments)}function j(){return j=(0,C.Z)(f().mark(function l(u,h){return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,U.WY)("https://laba.wuliangit.com/admin/group/list4Select",(0,b.Z)({method:"GET",params:(0,b.Z)({},u)},h||{})));case 1:case"end":return t.stop()}},l)})),j.apply(this,arguments)}function T(l,u){return D.apply(this,arguments)}function D(){return D=(0,C.Z)(f().mark(function l(u,h){return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,U.WY)("https://laba.wuliangit.com/admin/group/update",(0,b.Z)({method:"POST",data:u},h||{})));case 1:case"end":return t.stop()}},l)})),D.apply(this,arguments)}function p(l,u){return F.apply(this,arguments)}function F(){return F=(0,C.Z)(f().mark(function l(u,h){return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,U.WY)("https://laba.wuliangit.com/admin/group/add",(0,b.Z)({method:"POST",data:u},h||{})));case 1:case"end":return t.stop()}},l)})),F.apply(this,arguments)}function W(l,u){return c.apply(this,arguments)}function c(){return c=(0,C.Z)(f().mark(function l(u,h){return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,U.WY)("https://laba.wuliangit.com/admin/group/delete",(0,b.Z)({method:"GET",params:(0,b.Z)({},u)},h||{})));case 1:case"end":return t.stop()}},l)})),c.apply(this,arguments)}}}]);
