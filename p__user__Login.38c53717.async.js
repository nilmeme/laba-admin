(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[531],{34687:function(P){P.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",icon:"icon___rzGKO"}},19319:function(P,D,e){"use strict";e.r(D);var G=e(34792),O=e(48086),o=e(8870),v=e(3182),T=e(57337),V=e(17462),b=e(76772),A=e(94043),i=e.n(A),B=e(89366),C=e(2603),K=e(67294),R=e(12765),p=e(30426),d=e(2489),j=e(29791),W=e(36571),S=e(34687),m=e.n(S),s=e(85893),Z=function(g){var c=g.content;return(0,s.jsx)(b.Z,{style:{marginBottom:24},message:c,type:"error",showIcon:!0})},x=function(){var g=(0,K.useState)({}),c=(0,T.Z)(g,2),z=c[0],N=c[1],U=(0,d.tT)("@@initialState"),E=U.initialState,h=U.setInitialState,F=function(){var u=(0,v.Z)(i().mark(function t(l){var n,_;return i().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,E==null||(n=E.fetchUserInfo)===null||n===void 0?void 0:n.call(E,{token:l});case 2:if(_=r.sent,!_){r.next=6;break}return r.next=6,h(function(f){return(0,o.Z)((0,o.Z)({},f),{},{currentUser:{name:"Admin",avatar:"https://gw.alipayobjects.com/zos/antfincdn/XAosXuNZyF/BiazfanxmamNRoxxVxka.png"}})});case 6:case"end":return r.stop()}},t)}));return function(l){return u.apply(this,arguments)}}(),k=function(){var u=(0,v.Z)(i().mark(function t(l){var n,_,M,r,f,L;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,W.x4)((0,o.Z)({},l));case 3:if(n=a.sent,n.code!==0){a.next=18;break}return a.next=7,h(function($){return(0,o.Z)((0,o.Z)({},$),{},{token:n.data.token})});case 7:return localStorage.setItem("token",n.data.token),_="\u767B\u5F55\u6210\u529F\uFF01",O.default.success(_),a.next=12,F(n.data.token);case 12:if(d.m8){a.next=14;break}return a.abrupt("return");case 14:return M=d.m8.location.query,r=M,f=r.redirect,d.m8.push(f||"/"),a.abrupt("return");case 18:console.log(n.msg),N(n),a.next=26;break;case 22:a.prev=22,a.t0=a.catch(0),L="\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01",O.default.error(L);case 26:case"end":return a.stop()}},t,null,[[0,22]])}));return function(l){return u.apply(this,arguments)}}(),I=z.code;return(0,s.jsxs)("div",{className:m().container,children:[(0,s.jsx)("div",{className:m().content,children:(0,s.jsxs)(R.U,{logo:(0,s.jsx)("img",{alt:"logo",src:"/logo.svg"}),title:"\u5927\u53E3\u914D\u97F3",subTitle:"\u5927\u53E3\u914D\u97F3\u662F\u4E00\u6B3ETTS\uFF08\u6587\u5B57\u8F6C\u8BED\u97F3\uFF09\u7528\u9014\u7684\u667A\u80FD\u5408\u6210\u8F6F\u4EF6\uFF0C\u901A\u8FC7\u8BED\u97F3\u5F15\u64CE\u4F7F\u5F97\u914D\u97F3\u53D8\u5F97\u9AD8\u6548\u7B80\u5355",initialValues:{autoLogin:!0},onFinish:function(){var u=(0,v.Z)(i().mark(function t(l){return i().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,k(l);case 2:case"end":return _.stop()}},t)}));return function(t){return u.apply(this,arguments)}}(),children:[I&&I!=0&&(0,s.jsx)(Z,{content:"\u9519\u8BEF\u7684\u7528\u6237\u540D\u548C\u5BC6\u7801"}),(0,s.jsx)(p.Z,{name:"username",fieldProps:{size:"large",prefix:(0,s.jsx)(B.Z,{className:m().prefixIcon})},placeholder:"\u7528\u6237\u540D: ",rules:[{required:!0,message:"\u7528\u6237\u540D\u662F\u5FC5\u586B\u9879\uFF01"}]}),(0,s.jsx)(p.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,s.jsx)(C.Z,{className:m().prefixIcon})},placeholder:"\u5BC6\u7801: ",rules:[{required:!0,message:"\u5BC6\u7801\u662F\u5FC5\u586B\u9879\uFF01"}]})]})}),(0,s.jsx)(j.Z,{})]})};D.default=x}}]);
