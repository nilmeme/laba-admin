(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[394],{57998:function(W,y,e){"use strict";e.r(y),e.d(y,{default:function(){return E}});var G=e(71194),p=e(50146),H=e(57663),T=e(71577),x=e(57337),o=e(8870),K=e(34792),C=e(48086),c=e(3182),D=e(94043),i=e.n(D),P=e(51042),F=e(67294),V=e(4743),Y=e(80569),j=e(2489);function $(u,n){return Z.apply(this,arguments)}function Z(){return Z=(0,c.Z)(i().mark(function u(n,s){return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,j.WY)("https://laba.wuliangit.com/admin/sequence/list",(0,o.Z)({method:"GET",params:(0,o.Z)({},n)},s||{})));case 1:case"end":return t.stop()}},u)})),Z.apply(this,arguments)}function b(u,n){return g.apply(this,arguments)}function g(){return g=(0,c.Z)(i().mark(function u(n,s){return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,j.WY)("https://laba.wuliangit.com/admin/sequence/initSequence",(0,o.Z)({method:"POST",params:(0,o.Z)({},n)},s||{})));case 1:case"end":return t.stop()}},u)})),g.apply(this,arguments)}var z=e(47673),S=e(4107),J=e(9715),f=e(92080),r=e(85893),L=function(n){var s=f.Z.useForm(),l=(0,x.Z)(s,1),t=l[0],a=function(){n.onSubmit(t.getFieldsValue())};return(0,r.jsx)(p.Z,{title:"\u521D\u59CB\u5316\u5145\u503C\u5238",closable:!1,getContainer:!1,visible:n.updateModalVisible,onCancel:function(){return n.onCancel()},okText:"\u63D0\u4EA4",onOk:a,children:(0,r.jsxs)(f.Z,{name:"basic",form:t,labelCol:{span:5},wrapperCol:{span:16},initialValues:(0,o.Z)({},n.values),onFinish:n.onSubmit,onFinishFailed:function(){return n.onCancel()},autoComplete:"off",children:[(0,r.jsx)(f.Z.Item,{label:"\u9762\u989D",name:"point",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9762\u989D"}],children:(0,r.jsx)(S.Z,{})}),(0,r.jsx)(f.Z.Item,{label:"\u6570\u91CF",name:"count",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6570\u91CF"}],children:(0,r.jsx)(S.Z,{})})]})})},M=L,R=e(30381),B=e.n(R),U=function(){var u=(0,c.Z)(i().mark(function n(s){var l;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l=C.default.loading("\u63D0\u4EA4\u4E2D"),a.prev=1,a.next=4,b((0,o.Z)({},s));case 4:return l(),C.default.success("\u63D0\u4EA4\u6210\u529F"),a.abrupt("return",!0);case 9:return a.prev=9,a.t0=a.catch(1),l(),C.default.error("\u63D0\u4EA4\u5931\u8D25"),a.abrupt("return",!1);case 14:case"end":return a.stop()}},n,null,[[1,9]])}));return function(s){return u.apply(this,arguments)}}(),A=function(){var n=(0,F.useState)(!1),s=(0,x.Z)(n,2),l=s[0],t=s[1],a=(0,F.useRef)(),h=[{title:"\u5238\u7801",dataIndex:"sequence",hideInSearch:!0,width:80},{title:"\u9762\u989D",dataIndex:"times",hideInSearch:!0,width:100},{title:"\u6838\u9500\u4EBAid",dataIndex:"userId",hideInSearch:!0,width:100},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"creatTime",hideInSearch:!0,ellipsis:!0,renderText:function(d){return B()(d).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u72B6\u6001",dataIndex:"status",valueEnum:{false:{text:"\u5DF2\u6838\u9500",status:"Processing"},true:{text:"\u672A\u6838\u9500",status:"Default"}}}];return(0,r.jsxs)(V.ZP,{children:[(0,r.jsx)(Y.ZP,{headerTitle:"\u67E5\u8BE2\u8868\u683C",actionRef:a,rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[(0,r.jsxs)(T.Z,{type:"primary",onClick:function(){t(!0)},children:[(0,r.jsx)(P.Z,{})," \u521D\u59CB\u5316\u5145\u503C\u5238"]},"primary")]},request:$,columns:h}),(0,r.jsx)(M,{onSubmit:function(){var v=(0,c.Z)(i().mark(function d(O){var I;return i().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,U(O);case 2:I=m.sent,I&&(t(!1),p.Z.destroyAll(),a.current&&a.current.reload());case 5:case"end":return m.stop()}},d)}));return function(d){return v.apply(this,arguments)}}(),onCancel:function(){p.Z.destroyAll(),t(!1)},updateModalVisible:l,values:{},isUpdate:!1})]})},E=A}}]);
